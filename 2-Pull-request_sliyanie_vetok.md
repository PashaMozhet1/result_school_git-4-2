# Модуль 2. Тема Git. Урок 4 Основы ветвления и слияния

2. Слияние веток при помощи действия pull request



Перенос кода из одной ветки в другую.

На моём примере: чтобы в ветке main отображался код из develop, конкретно header в html-файле.

Для этого есть 2 способа.


1 способ: pull request
На сайте Github таб Pull Request
Дальше кнопка New pull request
Дальше сверху выбрать ветки: из какой в какую пуллить (переносить код).
Выбираю из develop в main
Кнопка Create pull request
Можно указать заголовок и описание
Снова кнопка Create
После этого pull request создан, видны все внесённые изменения, которые готовы к слиянию из develop ветки в основную


Pull request'ы придуманы для того, чтобы разработчики могли проверять код друг у друга.
Один создал шапку сайта header в ветке develop. Дальше он хочет поделиться этим кодом в основную ветку.
Но в коде могут быть ошибки. Чтобы код мог проверить другой человек, можно добавить людей в список Просмотрщиков (справа меню Reviewers - там добавляются логины людей с Гитхаба, кто может отслеживать код).

В пул реквесте можно просматривать, какие именно файлы и как были изменены. Там построчно написано, что добавилось/изменилось/удалилось.
В меня Files changed.
Там отображаются изменения в ветке develop и которых нет в ветке main.
Там же можно добавить комментарии к каждой строчке
*** Тут я добавляю коммент к header

Чтобы опубликовать комментарии и открыть их для других разрабов, справа сверху кнопка Finish your review.
Там можно оставить ещё общий коммент типа "Я сделал ревью"
И потом можно опубликовать комменты.

Комменты можно выделить как решённые кнопкой Resolve conversation.
После этого комменты будут видны в аккордеонах, можно просмотреть всю ветку комментов и сами файлы, к которым оставлены комменты.



Допустим, баги после ревью из комментов были пофикшены, теперь можно сливать (мерджить - merge) ветки.
Merge - слияние - это перенос из одной ветки в другую.
Внизу под списком коммитов кнопка Merge pull request.
После мёрджа веток Гитхаб предлагает удалить смёрдженную ветку. Обычно после мёрджа эту ветку удаляют, т.к. она теперь не нужна.
*** Тут удаляю ветку develop кнопкой Delete branch.

Теперь перехожу обратно в ветку main в VSCode через git checkout main
Switched to branch 'main'

Но изменения в файлах ещё локально не отображаются все, т.к. я их смёрджил на облаке (на сайте Гитхаб), но не скачал локально.
Изменения из ветки main на Github нужно переместить в ветку main на компе.
Для этого есть команда 
# git pull [repo_link] [branch_name]
Команда забирает изменения, кот. есть на облаке (на сайте) и добавляет их в локальную ветку на компе.
Для команды прописываю такие же параметры, как у git push: repo_url и branch_name

**Тут понадобилось слить ветки локально, т.к. я этот файл переписываю, потом закоммитить их, отправить на Гитхаб снова, чтобы этот текст появился на Гитхабе, потом обратно git pull на комп загрузить всё. Теперь и в локальной ветке (на компе), и в ветке на Гитхаб у меня одинаковые файлы.

Теперь в ветке main отображаются и доступны все изменения, которые я делал в файлах ветки develop, но смёрджил в ветку main.
Теперь перехожу обратно в ветку main в VSCode через git checkout main




_____

Ещё слияние веток можно делать с помощью 2 способа: git merge
В следующем файле об этом.
